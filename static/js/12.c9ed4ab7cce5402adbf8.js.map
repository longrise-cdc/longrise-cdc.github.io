{"version":3,"sources":["webpack:///src/views/author/login.vue","webpack:///./src/views/author/login.vue?83f3","webpack:///./src/views/author/login.vue"],"names":["login","title","config","prev","Date","_this","this","user","form","then","res","msg","data","getcaptcha","author_login","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","padding-top","_v","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","$set","padding-left","cursor","src","captcha","alt","click","margin-top","class","loading","submit","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.c9ed4ab7cce5402adbf8.js","sourcesContent":["<template>\n  <div class=\"author page-view\">\n    <ul class=\"form\" style=\"width:50%;padding-top:50px;\">\n      <li class=\"form-item\">\n        <h2 class=\"label\">用户名</h2>\n        <div class=\"form-row\">\n          <input v-model=\"user\" type=\"text\" placeholder=\"请填写用户名\\邮箱\\手机号!\">\n        </div>\n      </li>\n      <li class=\"form-item\">\n        <h2 class=\"label\">密码</h2>\n        <div class=\"form-row\">\n          <input v-model=\"form.password\" type=\"password\" placeholder=\"请填写密码!\">\n        </div>\n      </li>\n      <li class=\"form-item\">\n        <h2 class=\"label\">验证码</h2>\n        <div class=\"row w\">\n          <div class=\"col v-m\">\n            <div class=\"form-row\">\n              <input v-model=\"form.captcha\" type=\"text\" placeholder=\"请填写5位验证码！\">\n            </div>\n          </div>\n          <div class=\"col v-m\" style=\"padding-left:20px;\">\n            <img style=\"cursor:pointer;\" @click=\"getcaptcha\" class=\"v-m\" :src=\"captcha\" alt=\"\">\n            <span class=\"tip v-m\">点击验证码刷新！</span>\n          </div>\n        </div>\n      </li>\n      <li class=\"form-item\" style=\"margin-top:50px;\">\n        <button class=\"button primary\"\n          :class=\"{\n            'loading': loading\n          }\"\n          style=\"width:100%;\"\n          @click=\"submit\"\n        ><span class=\"iconfont icon-loading\"></span><span>登录</span></button>\n      </li>\n      <li class=\"form-item\">\n        <ul class=\"form-info row w\">\n          <li class=\"col v-m\">\n            还没有账号？前往<router-link to=\"/register\">注册</router-link>\n          </li>\n          <li class=\"col v-m t-r\">\n            <router-link to=\"/remember\">忘记密码？</router-link>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport {login, captcha} from '@/config'\nexport default {\n  name: 'login',\n  head: {\n    title () {\n      return {\n        inner: this.title\n      }\n    }\n  },\n  data () {\n    return {\n      title: '用户登录',\n      loading: false,\n      prev: '',\n      captcha: captcha,\n      user: 'swimly',\n      form: {\n        password: '122514',\n        captcha: ''\n      }\n    }\n  },\n  created () {\n    this.prev = this.$route.query.prev\n  },\n  methods: {\n    getcaptcha () {\n      this.captcha = this.captcha + '?' + new Date()\n    },\n    submit () {\n      const phone = /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\n      const email = /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/\n      if (!this.user) {\n        this.$Message.warning('请填写用户名、邮箱或者手机号！')\n      } else if (!this.form.password) {\n        this.$Message.warning('请填写登录密码！')\n      } else if (!this.form.captcha) {\n        this.$Message.warning('请填写图片验证码！')\n      } else {\n        if (email.test(this.user)) {\n          this.form.email = this.user\n        } else if (phone.test(this.user)) {\n          this.form.phone = this.user\n        } else {\n          this.form.username = this.user\n        }\n        this.loading = true\n        axios({\n          url: login,\n          method: 'get',\n          params: this.form\n        }).then(res => {\n          console.log(res)\n          if (res.data.status) {\n            this.$Message.success(res.data.msg)\n            this.loading = false\n            this.$parent.$refs.header.userInfo = res.data.data\n            this.$localStorage.set('userInfo', JSON.stringify(res.data.data))\n            if (this.prev) {\n              this.$router.replace(this.prev)\n            } else {\n              this.$router.replace('/')\n            }\n          } else {\n            this.getcaptcha()\n            this.$Message.error(res.data.msg)\n            this.loading = false\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/author/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"author page-view\"},[_c('ul',{staticClass:\"form\",staticStyle:{\"width\":\"50%\",\"padding-top\":\"50px\"}},[_c('li',{staticClass:\"form-item\"},[_c('h2',{staticClass:\"label\"},[_vm._v(\"用户名\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user),expression:\"user\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请填写用户名\\\\邮箱\\\\手机号!\"},domProps:{\"value\":(_vm.user)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.user=$event.target.value}}})])]),_vm._v(\" \"),_c('li',{staticClass:\"form-item\"},[_c('h2',{staticClass:\"label\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请填写密码!\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}})])]),_vm._v(\" \"),_c('li',{staticClass:\"form-item\"},[_c('h2',{staticClass:\"label\"},[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('div',{staticClass:\"row w\"},[_c('div',{staticClass:\"col v-m\"},[_c('div',{staticClass:\"form-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.captcha),expression:\"form.captcha\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请填写5位验证码！\"},domProps:{\"value\":(_vm.form.captcha)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"captcha\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col v-m\",staticStyle:{\"padding-left\":\"20px\"}},[_c('img',{staticClass:\"v-m\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":_vm.captcha,\"alt\":\"\"},on:{\"click\":_vm.getcaptcha}}),_vm._v(\" \"),_c('span',{staticClass:\"tip v-m\"},[_vm._v(\"点击验证码刷新！\")])])])]),_vm._v(\" \"),_c('li',{staticClass:\"form-item\",staticStyle:{\"margin-top\":\"50px\"}},[_c('button',{staticClass:\"button primary\",class:{\n          'loading': _vm.loading\n        },staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.submit}},[_c('span',{staticClass:\"iconfont icon-loading\"}),_c('span',[_vm._v(\"登录\")])])]),_vm._v(\" \"),_c('li',{staticClass:\"form-item\"},[_c('ul',{staticClass:\"form-info row w\"},[_c('li',{staticClass:\"col v-m\"},[_vm._v(\"\\n          还没有账号？前往\"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"注册\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"col v-m t-r\"},[_c('router-link',{attrs:{\"to\":\"/remember\"}},[_vm._v(\"忘记密码？\")])],1)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4799b73c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/author/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4799b73c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4799b73c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/author/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}