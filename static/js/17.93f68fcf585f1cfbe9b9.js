webpackJsonp([17],{"3EsV":function(t,s){},NwuB:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("mvHQ"),o=a.n(e),i=a("mtWM"),r=a.n(i),l=a("2uFj"),n={name:"login",head:{title:function(){return{inner:this.title}}},data:function(){return{title:"用户登录",type:"手机注册",sending:!1,send:!1,loading:!1,time:60,captcha:l.k,user:"swimly",form:{username:"",phone:"13000000000",code:"",email:"1719904000@qq.com",password:"",captcha:""}}},methods:{getcaptcha:function(){this.captcha=this.captcha+"?"+new Date},submit:function(){var t=this;console.log(this.form),this.loading=!this.loading,"邮箱注册"===this.type?delete this.form.phone:delete this.form.email,r()({method:"get",url:l.E,params:this.form}).then(function(s){console.log(s),t.loading=!t.loading,s.data.status?(t.$localStorage.set("userInfo",o()(s.data.data)),t.$Message.success(s.data.msg),t.$parent.$refs.header.userInfo=s.data.data,t.$router.replace("/")):t.$Message.error(s.data.msg)})},sendMail:function(){var t=this;this.sending=!this.sending,r()({method:"get",url:l.G,params:{email:this.form.email,captcha:this.form.captcha,type:0}}).then(function(s){t.sending=!t.sending,s.data.status?(t.$Message.success(s.data.msg),t.send=!t.send,t.countdown()):t.$Message.error(s.data.msg)})},sendsms:function(){var t=this;this.sending=!this.sending,r()({method:"get",url:l.H,params:{type:0,phone:this.form.phone,captcha:this.form.captcha}}).then(function(s){console.log(s),t.sending=!t.sending,s.data.status?(t.$Message.success(s.data.msg),t.countdown()):t.$Message.error(s.data.msg)})},countdown:function(){var t=this;console.log("开始倒计时"),setInterval(function(){0===t.time?(t.send=!t.send,t.time=180):t.time--},1e3)}}},c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"author page-view"},[a("div",{staticClass:"t-c",staticStyle:{"margin-top":"20px"}},[a("RadioGroup",{attrs:{type:"button",size:"large"},model:{value:t.type,callback:function(s){t.type=s},expression:"type"}},[a("Radio",{attrs:{label:"邮箱注册"}},[t._v("邮箱注册")]),t._v(" "),a("Radio",{attrs:{label:"手机注册"}},[t._v("手机注册")])],1)],1),t._v(" "),"邮箱注册"===t.type?a("ul",{staticClass:"form",staticStyle:{width:"50%","padding-top":"20px"}},[a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{type:"text",placeholder:"请填写用户名\\邮箱\\手机号!"},domProps:{value:t.form.username},on:{input:function(s){s.target.composing||t.$set(t.form,"username",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("邮箱")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:"请填写密码!"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("图片验证码")]),t._v(" "),a("div",{staticClass:"row w"},[a("div",{staticClass:"col v-m g-8"},[a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.captcha,expression:"form.captcha"}],attrs:{type:"text",placeholder:"请填写5位验证码！"},domProps:{value:t.form.captcha},on:{input:function(s){s.target.composing||t.$set(t.form,"captcha",s.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col v-m g-6",staticStyle:{"padding-left":"10px"}},[a("img",{staticClass:"v-m",staticStyle:{cursor:"pointer"},attrs:{src:t.captcha,alt:""},on:{click:t.getcaptcha}})]),t._v(" "),a("div",{staticClass:"col v-m g-10"},[t.send?t._e():a("Button",{attrs:{loading:t.sending,type:"success",disabled:t.form.captcha.length<5,size:"large"},on:{click:t.sendMail}},[t._v("发送邮件验证码")]),t._v(" "),t.send?a("Button",{attrs:{type:"ghost",disabled:"",size:"large"}},[t._v(t._s(t.time)+"s重新获取")]):t._e()],1)])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("邮箱验证码")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],attrs:{type:"text",placeholder:"请填写密码!"},domProps:{value:t.form.code},on:{input:function(s){s.target.composing||t.$set(t.form,"code",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("密码")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"请填写密码!"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{"margin-top":"50px"}},[a("button",{staticClass:"button primary",class:{loading:t.loading},staticStyle:{width:"100%"},on:{click:t.submit}},[a("span",{staticClass:"iconfont icon-loading"}),a("span",[t._v("注册")])])]),t._v(" "),a("li",{staticClass:"form-item"},[a("ul",{staticClass:"form-info row w"},[a("li",{staticClass:"col v-m"},[t._v("\n          已经有账号？前往"),a("router-link",{attrs:{to:"/login"}},[t._v("登录")])],1),t._v(" "),a("li",{staticClass:"col v-m t-r"},[a("router-link",{attrs:{to:"/remember"}},[t._v("忘记密码？")])],1)])])]):t._e(),t._v(" "),"手机注册"===t.type?a("ul",{staticClass:"form",staticStyle:{width:"50%","padding-top":"20px"}},[a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{type:"text",placeholder:"请填写用户名\\邮箱\\手机号!"},domProps:{value:t.form.username},on:{input:function(s){s.target.composing||t.$set(t.form,"username",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("手机号")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],attrs:{type:"text",placeholder:"请填写密码!"},domProps:{value:t.form.phone},on:{input:function(s){s.target.composing||t.$set(t.form,"phone",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("图片验证码")]),t._v(" "),a("div",{staticClass:"row w"},[a("div",{staticClass:"col v-m g-8"},[a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.captcha,expression:"form.captcha"}],attrs:{type:"text",placeholder:"请填写5位验证码！"},domProps:{value:t.form.captcha},on:{input:function(s){s.target.composing||t.$set(t.form,"captcha",s.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col v-m g-6",staticStyle:{"padding-left":"10px"}},[a("img",{staticClass:"v-m",staticStyle:{cursor:"pointer"},attrs:{src:t.captcha,alt:""},on:{click:t.getcaptcha}})]),t._v(" "),a("div",{staticClass:"col v-m g-10"},[t.send?t._e():a("Button",{attrs:{loading:t.sending,type:"success",disabled:t.form.captcha.length<5,size:"large"},on:{click:t.sendsms}},[t._v("发送手机验证码")]),t._v(" "),t.send?a("Button",{attrs:{type:"ghost",disabled:"",size:"large"}},[t._v(t._s(t.time)+"s重新获取")]):t._e()],1)])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("手机验证码")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],attrs:{type:"text",placeholder:"请填写密码!"},domProps:{value:t.form.code},on:{input:function(s){s.target.composing||t.$set(t.form,"code",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item"},[a("h2",{staticClass:"label"},[t._v("密码")]),t._v(" "),a("div",{staticClass:"form-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"请填写密码!"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{"margin-top":"50px"}},[a("button",{staticClass:"button primary",class:{loading:t.loading},staticStyle:{width:"100%"},on:{click:t.submit}},[a("span",{staticClass:"iconfont icon-loading"}),a("span",[t._v("注册")])])]),t._v(" "),a("li",{staticClass:"form-item"},[a("ul",{staticClass:"form-info row w"},[a("li",{staticClass:"col v-m"},[t._v("\n          已经有账号？前往"),a("router-link",{attrs:{to:"/login"}},[t._v("登录")])],1),t._v(" "),a("li",{staticClass:"col v-m t-r"},[a("router-link",{attrs:{to:"/remember"}},[t._v("忘记密码？")])],1)])])]):t._e()])},staticRenderFns:[]};var m=a("VU/8")(n,c,!1,function(t){a("3EsV")},null,null);s.default=m.exports}});
//# sourceMappingURL=17.93f68fcf585f1cfbe9b9.js.map