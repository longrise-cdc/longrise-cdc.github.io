webpackJsonp([18],{GxZl:function(t,a){},LxjL:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),o=s.n(e),i=s("2uFj"),n=s("mtWM"),c=s.n(n),l={name:"face",head:{title:function(){return{inner:this.title}}},data:function(){return{title:"修改头像",croppa:null,dataUrl:{},laststep:!1}},created:function(){},methods:{back:function(){this.laststep=!this.laststep,this.croppa.refresh()},crop:function(){this.dataUrl=this.croppa.generateDataUrl("image/jpeg",.8),this.dataUrl?this.laststep=!this.laststep:this.$Message.error("您尚未选择任何图片，请选择后再裁剪！")},submit:function(){var t=this;c()({method:"post",url:i.w,data:{uId:JSON.parse(this.$localStorage.get("userInfo")).uId,data:this.dataUrl}}).then(function(a){if(console.log(a),a.data.status){var s=JSON.parse(t.$localStorage.get("userInfo"));t.$parent.userInfo.cover=a.data.data.file,t.$parent.$parent.$refs.header.userInfo.cover=a.data.data.file,s.cover=a.data.data.file,t.$localStorage.set("userInfo",o()(s)),t.$Message.success(a.data.msg)}else t.$Message.error(a.data.msg)})}}},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"face-view"},[s("h2",{staticClass:"page-title"},[t._v("修改头像")]),t._v(" "),s("div",{staticClass:"page-view"},[s("ul",{staticClass:"row w"},[s("li",{staticClass:"col v-t g-12"},[s("croppa",{attrs:{width:300,height:300,"canvas-color":"default",placeholder:"选择一张图片","placeholder-font-size":16,"placeholder-color":"#999",accept:"image/*",quality:2,"zoom-speed":3,"show-remove-button":!0,"remove-button-color":"red","remove-button-size":18},model:{value:t.croppa,callback:function(a){t.croppa=a},expression:"croppa"}})],1),t._v(" "),t.laststep?s("li",{staticClass:"col v-t g-6"},[s("h3",{staticClass:"sub-title"},[t._v("大头像")]),t._v(" "),s("div",{staticClass:"face normal"},[s("img",{attrs:{src:t.dataUrl,alt:""}})])]):t._e(),t._v(" "),t.laststep?s("li",{staticClass:"col v-t g-6"},[s("h3",{staticClass:"sub-title"},[t._v("小头像")]),t._v(" "),s("div",{staticClass:"face small"},[s("img",{attrs:{src:t.dataUrl,alt:""}})])]):t._e()]),t._v(" "),s("div",{staticClass:"crop"},[s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.zoomIn()}}},[s("span",{staticClass:"iconfont icon-fangda"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.zoomOut()}}},[s("span",{staticClass:"iconfont icon-suoxiao"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.moveUpwards(10)}}},[s("span",{staticClass:"iconfont icon-xiangshang"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.moveDownwards(10)}}},[s("span",{staticClass:"iconfont icon-xiangxia"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.moveLeftwards(10)}}},[s("span",{staticClass:"iconfont icon-zhixiangzuo"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.moveRightwards(10)}}},[s("span",{staticClass:"iconfont icon-xiangyou"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.rotate(2)}}},[s("span",{staticClass:"iconfont icon-xuanzhuan1"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.rotate()}}},[s("span",{staticClass:"iconfont icon-xuanzhuan"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.flipY()}}},[s("span",{staticClass:"iconfont icon-chuizhifanzhuan"})]),t._v(" "),s("Button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.croppa.flipX()}}},[s("span",{staticClass:"iconfont icon-shuipingjuzhongduiqi"})])],1),t._v(" "),s("p",{staticClass:"tip"},[t._v("提示：请选择一张个人正面照片作为头像，让其他成员更容易认识你。")]),t._v(" "),s("p",{staticClass:"tip"},[t._v("注意：请选择一张清晰的图片作为头像，大小不能超过2M，并且您可以通过拖拽图片到上面的框框中进行头像上传！")]),t._v(" "),s("div",{staticClass:"btn-area"},[t.laststep?t._e():s("Button",{attrs:{type:"primary",size:"large"},on:{click:t.crop}},[t._v("裁剪")]),t._v(" "),t.laststep?s("Button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("确认修改")]):t._e(),t._v(" "),t.laststep?s("Button",{attrs:{type:"error",size:"large"},on:{click:t.back}},[t._v("重新选择")]):t._e()],1)])])},staticRenderFns:[]};var p=s("VU/8")(l,r,!1,function(t){s("GxZl")},"data-v-042f1a3c",null);a.default=p.exports}});
//# sourceMappingURL=18.643952a1d7c5ff78d44c.js.map