webpackJsonp([19],{Qlw9:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("mvHQ"),l=a.n(e),i=a("2uFj"),c=a("mtWM"),o=a.n(c),n={name:"phone",data:function(){return{sending:!1,send:!1,binding:JSON.parse(this.$localStorage.get("userInfo")).phone,userInfo:JSON.parse(this.$localStorage.get("userInfo")),captcha:i.k,time:60,form:{uId:JSON.parse(this.$localStorage.get("userInfo")).uId,old:"",new:"",captcha:"",code:""}}},methods:{getcaptcha:function(){this.captcha=this.captcha+"?"+new Date},submit:function(){var t=this;this.binding?o()({method:"get",url:i.O,params:this.form}).then(function(s){s.data.status?(t.$Message.success(s.data.msg),t.userInfo.phone=t.form.new,t.$localStorage.set("userInfo",l()(t.userInfo)),t.$router.replace("/personer")):t.$Message.error(s.data.msg)}):o()({method:"get",url:i.i,params:{uId:this.form.uId,captcha:this.form.captcha,code:this.form.code,phone:this.form.new}}).then(function(s){s.data.status?(t.$Message.success(s.data.msg),t.userInfo.phone=t.form.new,t.$localStorage.set("userInfo",l()(t.userInfo)),t.$router.replace("/personer")):t.$Message.error(s.data.msg)})},sendsms:function(){var t=this;this.form.new?this.form.captcha?(this.sending=!this.sending,o()({method:"get",url:i.M,params:{type:2,phone:this.form.new,captcha:this.form.captcha}}).then(function(s){console.log(s.data),t.sending=!t.sending,s.data.status?(t.$Message.success(s.data.msg),t.send=!t.send,t.countdown()):t.$Message.error(s.data.msg)})):this.$Message.warning("请填写验证码！"):this.$Message.warning("请填写新手机号！")},countdown:function(){var t=this;console.log("开始倒计时"),setInterval(function(){0===t.time?(t.send=!t.send,t.time=180):t.time--},1e3)}}},r={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"info"},[a("h2",{staticClass:"page-title"},[t._v(t._s(t.binding?"更换手机":"绑定手机"))]),t._v(" "),a("div",{staticClass:"page-view"},[t.binding?t._e():a("Alert",{attrs:{banner:"",closable:"","show-icon":"",type:"warning"}},[t._v("温馨提示：您尚未绑定任何手机，请先绑定手机")]),t._v(" "),t.binding?a("Alert",{attrs:{banner:"",closable:"","show-icon":"",type:"warning"}},[t._v("温馨提示：以下操作涉及到账户安全性，请谨慎操作！")]):t._e(),t._v(" "),t.binding?t._e():a("ul",{staticClass:"form",staticStyle:{width:"70%","margin-top":"30px"}},[a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(0),t._v(" "),a("li",{staticClass:"col v-m g-18"},[a("Input",{attrs:{size:"large",placeholder:"请填写您要绑定的手机号！"},model:{value:t.form.new,callback:function(s){t.$set(t.form,"new",s)},expression:"form.new"}})],1),t._v(" "),a("li",{staticClass:"col g-3"})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(1),t._v(" "),a("li",{staticClass:"col v-m"},[a("Input",{attrs:{size:"large",placeholder:"填写右侧验证码！"},model:{value:t.form.captcha,callback:function(s){t.$set(t.form,"captcha",s)},expression:"form.captcha"}})],1),t._v(" "),a("li",{staticClass:"col v-m g-6",staticStyle:{"padding-left":"10px"}},[a("img",{staticClass:"v-m captcha",attrs:{src:t.captcha,alt:""},on:{click:t.getcaptcha}})]),t._v(" "),a("li",{staticClass:"col v-m"},[t.send?t._e():a("Button",{attrs:{loading:t.sending,type:"success",disabled:t.form.captcha.length<5,size:"large"},on:{click:t.sendsms}},[t._v("发送短信")]),t._v(" "),t.send?a("Button",{attrs:{type:"ghost",disabled:"",size:"large"}},[t._v(t._s(t.time)+"s重新获取")]):t._e()],1)])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(2),t._v(" "),a("li",{staticClass:"col v-m g-12"},[a("Input",{attrs:{size:"large",placeholder:"请填写手机收到的数字验证码！"},model:{value:t.form.code,callback:function(s){t.$set(t.form,"code",s)},expression:"form.code"}})],1),t._v(" "),a("li",{staticClass:"col g-9"})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{"padding-top":"20px"}},[a("ul",{staticClass:"row w"},[a("li",{staticClass:"col v-m g-3"}),t._v(" "),a("li",{staticClass:"col v-m"},[a("Button",{staticStyle:{width:"150px"},attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("确认绑定")])],1)])])]),t._v(" "),t.binding?a("ul",{staticClass:"form",staticStyle:{width:"70%","margin-top":"30px"}},[a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(3),t._v(" "),a("li",{staticClass:"col v-m g-18"},[a("Input",{attrs:{size:"large",placeholder:"请填写旧手机"},model:{value:t.form.old,callback:function(s){t.$set(t.form,"old",s)},expression:"form.old"}})],1),t._v(" "),a("li",{staticClass:"col g-3"})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(4),t._v(" "),a("li",{staticClass:"col v-m g-18"},[a("Input",{attrs:{size:"large",placeholder:"请填写新手机"},model:{value:t.form.new,callback:function(s){t.$set(t.form,"new",s)},expression:"form.new"}})],1),t._v(" "),a("li",{staticClass:"col g-3"})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(5),t._v(" "),a("li",{staticClass:"col v-m"},[a("Input",{attrs:{size:"large",placeholder:"填写右侧验证码！"},model:{value:t.form.captcha,callback:function(s){t.$set(t.form,"captcha",s)},expression:"form.captcha"}})],1),t._v(" "),a("li",{staticClass:"col v-m g-6",staticStyle:{"padding-left":"10px"}},[a("img",{staticClass:"v-m captcha",attrs:{src:t.captcha,alt:""},on:{click:t.getcaptcha}})]),t._v(" "),a("li",{staticClass:"col v-m"},[t.send?t._e():a("Button",{attrs:{loading:t.sending,type:"success",disabled:t.form.captcha.length<5,size:"large"},on:{click:t.sendsms}},[t._v("发送短信")]),t._v(" "),t.send?a("Button",{attrs:{type:"ghost",disabled:"",size:"large"}},[t._v(t._s(t.time)+"s重新获取")]):t._e()],1)])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{padding:"5px 0"}},[a("ul",{staticClass:"row w"},[t._m(6),t._v(" "),a("li",{staticClass:"col v-m g-12"},[a("Input",{attrs:{size:"large",placeholder:"请填写邮箱收到的数字验证码！"},model:{value:t.form.code,callback:function(s){t.$set(t.form,"code",s)},expression:"form.code"}})],1),t._v(" "),a("li",{staticClass:"col g-9"})])]),t._v(" "),a("li",{staticClass:"form-item",staticStyle:{"padding-top":"20px"}},[a("ul",{staticClass:"row w"},[a("li",{staticClass:"col v-m g-3"}),t._v(" "),a("li",{staticClass:"col v-m"},[a("Button",{staticStyle:{width:"150px"},attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("确认更换")])],1)])])]):t._e()],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"col v-m g-3"},[a("h3",{staticClass:"label"},[t._v("新手机：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"col v-m g-3"},[a("div",{staticClass:"label"},[t._v("验证码：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"col v-m g-3"},[a("div",{staticClass:"label"},[t._v("验证码：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"col v-m g-3"},[a("h3",{staticClass:"label"},[t._v("旧手机：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"col v-m g-3"},[a("h3",{staticClass:"label"},[t._v("新手机：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"col v-m g-3"},[s("div",{staticClass:"label"},[this._v("验证码：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"col v-m g-3"},[s("div",{staticClass:"label"},[this._v("验证码：")])])}]},m=a("VU/8")(n,r,!1,null,null,null);s.default=m.exports}});
//# sourceMappingURL=19.212f679d9e1999da0314.js.map